@model DTOs.Entities.Reservation

@{
    ViewData["Title"] = "Invoice #" + Model.Id;
    Layout = null; // No Navbar/Footer for the invoice
}

<!DOCTYPE html>
<html>
<head>
    <title>Invoice #@Model.Id</title>
    <link rel="stylesheet" href="~/lib/bootstrap/dist/css/bootstrap.min.css" />
    <style>
        body {
            background-color: #f8f9fa;
            padding: 40px;
        }

        .invoice-card {
            max-width: 800px;
            margin: auto;
            background: white;
            padding: 40px;
            border: 1px solid #ddd;
            box-shadow: 0 0 10px rgba(0,0,0,0.1);
        }

        .header-title {
            font-weight: bold;
            color: #333;
        }

        .invoice-details {
            margin-top: 30px;
        }

        .total-section {
            background-color: #e9ecef;
            padding: 15px;
            border-radius: 5px;
        }

        /* Hide buttons when printing */
        @@media print {
            .no-print {
                display: none;
            }

            body {
                background-color: white;
                padding: 0;
            }

            .invoice-card {
                box-shadow: none;
                border: none;
                padding: 0;
            }
        }
    </style>
</head>
<body>

    <div class="invoice-card">
        <div class="row mb-4 border-bottom pb-3">
            <div class="col-6">
                <h2 class="header-title text-primary">HOTEL MANAGEMENT</h2>
                <p>123 Luxury Street, City Center<br>Phone: (012) 345-6789</p>
            </div>
            <div class="col-6 text-end">
                <h1>INVOICE</h1>
                <h5>#INV-@Model.Id.ToString("D6")</h5>
                <p>Date: @DateTime.Now.ToString("dd/MM/yyyy")</p>
            </div>
        </div>

        <div class="row invoice-details">
            <div class="col-6">
                <h5>Bill To:</h5>
                <p>
                    <strong>@Model.Customer.FullName</strong><br>
                    ID: @Model.Customer.IdentityNumber<br>
                    Phone: @Model.Customer.Phone
                </p>
            </div>
            <div class="col-6 text-end">
                <h5>Stay Details:</h5>
                <p>
                    <strong>Room: @Model.Room.RoomNumber</strong> (@Model.Room.RoomType)<br>
                    Check-In: @(ViewBag.CheckInTime?.ToString("dd/MM/yyyy HH:mm") ?? "-")<br>
                    Check-Out: @(ViewBag.CheckOutTime?.ToString("dd/MM/yyyy HH:mm") ?? "-")
                </p>
            </div>
        </div>

        <table class="table mt-4 border-top">
            <thead class="table-light">
                <tr>
                    <th>Description</th>
                    <th class="text-end">Price</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>Room Charge (@Model.Room.RoomType)</td>
                    <td class="text-end">@ViewBag.TotalAmount.ToString("N0") &#8363;</td>
                </tr>
            </tbody>
        </table>

        <div class="row mt-4 justify-content-end">
            <div class="col-md-5">
                <div class="total-section">
                    <div class="d-flex justify-content-between">
                        <h4>Total:</h4>
                        <h4 class="text-success">@ViewBag.TotalAmount.ToString("N0") &#8363;</h4>
                    </div>
                </div>
            </div>
        </div>

        <div class="mt-5 text-center text-muted">
            <p>Thank you for staying with us!</p>
            <small>Staff Signature: _______________________</small>
        </div>

        <div class="mt-5 text-center no-print">
            <button onclick="window.print()" class="btn btn-primary btn-lg">Print Invoice</button>
            <a href="/FrontDesk/History" class="btn btn-secondary btn-lg">Back to History</a>
        </div>
    </div>

</body>
</html>